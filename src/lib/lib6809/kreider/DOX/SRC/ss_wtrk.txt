.so header
.tl /SS_WTRK(2)/Kreider OS-9 C Library/SS_WTRK(2)/
.sh NAME
.bb
_ss_wtrk - write a disk drive track
.eb
.sh SYNOPSIS
.bb
int _ss_wtrk(path, trkno, siden, trkbuf)
int path;
int trkno, siden
char *trkbuf
.eb
.sh DESCRIPTION
.db
.bo
SS_WRTK
performs a write-track operation on a disk drive. It is essentially
a direct hook into the driver's write-track entry point.
.sp
The argument
.ul
path
is the path on which the device is opened.
.ul
Trkno
is the desired track number to write, and
.ul
siden
is the desired side of the disk on
which to write. When the write is performed, the image contained in and
pointed to by
.ul
trkbuf
is written out to the disk.
.sp
If an error occurs,
.bo
_SS_WTRK
returns the value -1 and the error code is
placed in the global variable
.ul
errno.
.ed
.sh NOTE
.db
This function works only on
.bo
RBF
devices. Additional information on how it
works can be obtained from examining the
.bo
FORMAT
utility or a device driver.
Also, note there is a difference in the syntax of this call from that used in
OSK systems.
.sp
.ce 1
.bo
>>>>  W A R N I N G  <<<<
.sp
If the variable
.ul
trkno
is set to zero when this function is called,
the
.bo
ENTIRE
disk, floppy or hard disk, will be formatted.  Care should be
taken to insure that
.ul
trkno
has a non-zero value prior to entering this function.
.ed
.sh SEE ALSO
.bb
I$SetStt system call, Microware manual.
.eb
